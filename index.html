<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CO Totals Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f9f9f9;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        form {
            max-width: 400px;
            margin: 0 auto 20px;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        label {
            display: block;
            margin: 10px 0;
        }
        input[type="number"], select, button {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            margin-top: 10px;
            cursor: pointer;
        }
        .inputs, .results {
            display: none;
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .result-item {
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
            color: #fff;
            font-weight: bold;
        }
        .c01 { background-color: #2196f4; }
        .c02 { background-color: #2196f3; }
        .c03 { background-color: #ff9800; }
        .c04 { background-color: #9c27b0; }
        .c05 { background-color: #673ab7; }
        .total { background-color: #f44336; }
        .copyright {
            text-align: center;
            margin-top: 20px;
            font-size: 12px;
            color: #555;
        }
    </style>
    <script>
        function updateTotals() {
            let values = [];
            for (let i = 1; i <= 13; i++) {
                values[i] = parseFloat(document.getElementById(`q${i}`).value) || 0;
            }

            let subject = document.getElementById("subject").value;
            let resultsContainer = document.querySelector(".results");
            let categories = { c01: 0, c02: 0, c03: 0, c04: 0, c05: 0 };
            document.querySelectorAll(".result-item").forEach(item => item.style.display = "none");
            
            if (!subject) {
                resultsContainer.style.display = "none";
                return;
            }
            resultsContainer.style.display = "block";

            const rules = {
                backend: { c01: [1], c02: [2, 3, 5, 6, 10], c03: [4, 8, 9], c04: [7, 12, 13], c05: [11] },
                deep_learning: { c02: [1], c03: [6, 10], c04: [2, 3, 5, 7, 9], c05: [4, 8, 11, 12, 13] },
                network_security: { c01: [1, 2, 4, 5, 7], c02: [6, 8], c03: [3, 9, 10, 11, 12, 13] },
                CV: { c01: [2, 5], c02: [1, 3, 4, 6, 7, 8, 9, 10], c03: [11, 12, 13] },
                eco: { c01: [1, 6, 10], c02: [2, 11], c05: [3, 4, 5, 8, 9, 12, 13] },
                mst_1: { c01: [1, 2, 5], c02: [3, 6], c04: [4, 7] }
            };
            
            for (let key in rules[subject]) {
                categories[key] = rules[subject][key].reduce((sum, q) => sum + values[q], 0);
                document.querySelector("." + key).style.display = "block";
            }

            for (let key in categories) {
                document.getElementById(key).textContent = categories[key];
            }
            document.getElementById("total").textContent = Object.values(categories).reduce((a, b) => a + b, 0);
        }
        
        function resetForm() {
            document.querySelectorAll(".inputs input").forEach(input => input.value = "");
            document.querySelectorAll(".result-item").forEach(item => item.style.display = "none");
            document.querySelector(".results").style.display = "none";
        }

        function toggleInputs() {
            let subject = document.getElementById("subject").value;
            document.querySelector(".inputs").style.display = subject ? "block" : "none";
            updateTotals();
        }
    </script>
</head>
<body>
    <h1>CO Totals Calculator</h1>
    <form>
        <label for="subject">Select Subject:</label>
        <select id="subject" onchange="toggleInputs();">
            <option value="">--Select Subject--</option>
            <option value="backend">Backend</option>
            <option value="deep_learning">Deep Learning</option>
            <option value="network_security">Security and Cryptography(22CSH-349)</option>
            <option value="CV">Computer Vision(22CSH-349)</option>
            <option value="eco">Foundation Course in Wireless and Mobile(ECO-455)</option>
            <option value="mst_1">MST_1</option>
        </select>
        <button type="button" onclick="resetForm()">Reset</button>
        <div class="inputs">
            <label>Q1-13: <input type="number" id="q1" step="any" oninput="updateTotals()"></label>
        </div>
    </form>
    <div class="results">
        <div class="result-item c01">C01: <span id="c01"></span></div>
        <div class="result-item c02">C02: <span id="c02"></span></div>
        <div class="result-item c03">C03: <span id="c03"></span></div>
        <div class="result-item c04">C04: <span id="c04"></span></div>
        <div class="result-item c05">C05: <span id="c05"></span></div>
        <div class="result-item total">Total: <span id="total"></span></div>
    </div>
    <div class="copyright">Â© Maajid Bashir 2024</div>
</body>
</html>
